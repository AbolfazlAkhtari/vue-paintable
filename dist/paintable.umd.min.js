(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["paintable"]=e():t["paintable"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({2443:function(t,e,i){var n=i("9043");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("499e").default;a("9ee9b9f6",n,!0,{sourceMap:!1,shadowMode:!1})},"24fb":function(t,e,i){"use strict";function n(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"===typeof btoa){var o=a(n),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[i].concat(s).concat([o]).join("\n")}return[i].join("\n")}function a(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(i," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=n(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"===typeof t&&(t=[[null,t,""]]);var a={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(a[s]=!0)}for(var r=0;r<t.length;r++){var c=[].concat(t[r]);n&&a[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},4226:function(t,e,i){"use strict";var n=i("4839"),a=i.n(n);a.a},4839:function(t,e,i){var n=i("4979");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("499e").default;a("3368f113",n,!0,{sourceMap:!1,shadowMode:!1})},4979:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".paintable,body{position:fixed}.paintable{overflow:hidden;height:100%;width:100%;-webkit-transform:scale(1);transform:scale(1)}.paintable.active{z-index:0}.paintable .canvas{position:relative;background-color:transparent;z-index:-1;position:absolute;left:0;top:0;overflow:hidden;-ms-touch-action:none;touch-action:none}.paintable .canvas.active{z-index:1000}.paintable .canvas.active.back{z-index:999}",""]),t.exports=e},"499e":function(t,e,i){"use strict";function n(t,e){for(var i=[],n={},a=0;a<e.length;a++){var o=e[a],s=o[0],r=o[1],c=o[2],l=o[3],d={id:t+":"+a,css:r,media:c,sourceMap:l};n[s]?n[s].parts.push(d):i.push(n[s]={id:s,parts:[d]})}return i}i.r(e),i.d(e,"default",(function(){return v}));var a="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=a&&(document.head||document.getElementsByTagName("head")[0]),r=null,c=0,l=!1,d=function(){},h=null,u="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(t,e,i,a){l=i,h=a||{};var s=n(t,e);return g(s),function(e){for(var i=[],a=0;a<s.length;a++){var r=s[a],c=o[r.id];c.refs--,i.push(c)}e?(s=n(t,e),g(s)):s=[];for(a=0;a<i.length;a++){c=i[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function g(t){for(var e=0;e<t.length;e++){var i=t[e],n=o[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(b(i.parts[a]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a]));o[i.id]={id:i.id,refs:1,parts:s}}}}function f(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function b(t){var e,i,n=document.querySelector("style["+u+'~="'+t.id+'"]');if(n){if(l)return d;n.parentNode.removeChild(n)}if(p){var a=c++;n=r||(r=f()),e=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else n=f(),e=y.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}var m=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function w(t,e,i,n){var a=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=m(e,a);else{var o=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function y(t,e){var i=e.css,n=e.media,a=e.sourceMap;if(n&&t.setAttribute("media",n),h.ssrId&&t.setAttribute(u,e.id),a&&(i+="\n/*# sourceURL="+a.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},"57b0":function(t,e,i){"use strict";var n=i("2443"),a=i.n(n);a.a},8875:function(t,e,i){var n,a,o;(function(i,s){a=[],n=s,o="function"===typeof n?n.apply(e,a):n,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(h){var t,e,i,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,o=n.exec(h.stack)||a.exec(h.stack),s=o&&o[1]||!1,r=o&&o[2]||!1,c=document.location.href.replace(document.location.hash,""),l=document.getElementsByTagName("script");s===c&&(t=document.documentElement.outerHTML,e=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=t.replace(e,"$1").trim());for(var d=0;d<l.length;d++){if("interactive"===l[d].readyState)return l[d];if(l[d].src===s)return l[d];if(s===c&&l[d].innerHTML&&l[d].innerHTML.trim()===i)return l[d]}return null}}return t}))},9043:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".navigation[data-v-67b314bc]{position:fixed;right:20px;top:20px;z-index:1005;background-color:#333;border-radius:5px;color:#fff}.navigation .navigationMenu[data-v-67b314bc],.navigation .navigationMenu ul[data-v-67b314bc]{list-style:none;padding:0;margin:0}.navigation .navigationMenu li>div[data-v-67b314bc]{cursor:pointer;padding:12px}.navigation .navigationMenu li.disabled[data-v-67b314bc]{opacity:.5}.navigation__lineWidthPicker[data-v-67b314bc]{background:#333;position:absolute;left:-225px;top:0;padding:12px;border-radius:5px;-webkit-box-sizing:border-box;box-sizing:border-box}.navigation__lineWidthPickerDot[data-v-67b314bc]{margin-top:10px;border-radius:100%}.navigation__lineWidthPickerColor[data-v-67b314bc]{border-radius:100%;height:15px;width:15px;display:block;margin:0 0 10px;border:2px solid transparent}.navigation__lineWidthPickerColor[data-v-67b314bc]:last-child{margin:0}.navigation__lineWidthPickerColor.selected[data-v-67b314bc]{border:2px solid #fff}.navigation__colorPicker[data-v-67b314bc]{background:#333;position:absolute;left:-60px;top:0;padding:12px;border-radius:5px}.navigation__colorPickerColor[data-v-67b314bc]{border-radius:100%;height:15px;width:15px;display:block;margin:0 0 10px;border:2px solid transparent}.navigation__colorPickerColor[data-v-67b314bc]:last-child{margin:0}.navigation__colorPickerColor.selected[data-v-67b314bc]{border:2px solid #fff}.navigation__horizontalNavigation .navigationMenu li[data-v-67b314bc],.navigation__horizontalNavigation .navigationMenu ul[data-v-67b314bc]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}",""]),t.exports=e},fb15:function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var n=window.document.currentScript,a=i("8875");n=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a});var o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(i.p=o[1])}var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hide?i("div",{staticClass:"content"},[t._t("default")],2):i("div",{staticClass:"paintable"},[t.disableNavigation?t._e():i("Navigation",{attrs:{horizontalNavigation:t.horizontalNavigation}},[i("div",{attrs:{slot:"paintable-navigation-draw"},slot:"paintable-navigation-draw"})]),i("canvas",{ref:"canvas-"+t.canvasId,staticClass:"canvas back",class:{active:t.isActive||t.alwaysOnTop},style:{pointerEvents:t.isActive?"all":"none",display:!t.canvasIsEmpty||t.isActive?"block":"none"},attrs:{width:t.width,height:t.height}}),i("canvas",{ref:"temp-canvas-"+t.canvasId,staticClass:"canvas",class:{active:t.isActive||t.alwaysOnTop},style:{pointerEvents:t.isActive?"all":"none",display:!t.canvasIsEmpty||t.isActive?"block":"none"},attrs:{width:t.width,height:t.height},on:t._d({},[t.drawMoveEvent,t.drawMove,t.drawStartEvent,t.drawStart,t.drawEndEvent,t.drawEnd])}),i("div",{staticClass:"content"},[t._t("default")],2)],1)},r=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.paintableView.hidePaintableNavigation?t._e():i("div",{staticClass:"navigation",class:{navigation__horizontalNavigation:t.horizontalNavigation}},[t.isColorPickerOpen?i("div",{staticClass:"navigation__colorPicker"},t._l(t.paintableView.colors,(function(e){return i("span",{key:e,class:["navigation__colorPickerColor",{selected:t.paintableView.currentColor===e}],style:{backgroundColor:e},on:{click:function(i){return t.changeColor(e)}}})})),0):t._e(),t.isLineWidthPickerOpen?i("div",{staticClass:"navigation__lineWidthPicker"},[i("label",{attrs:{for:"navigation__lineWidthPickerRange"}},[t._v("("+t._s(t.paintableView.currentLineWidth)+"px):")]),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.paintableView.currentLineWidth,expression:"paintableView.currentLineWidth"}],attrs:{id:"navigation__lineWidthPickerRange",type:"range",min:"1",max:"100"},domProps:{value:t.paintableView.currentLineWidth},on:{change:function(e){t.isLineWidthPickerOpen=!1},__r:function(e){return t.$set(t.paintableView,"currentLineWidth",e.target.value)}}}),i("div",{staticClass:"navigation__lineWidthPickerDot",style:t.lineWidthStyle})]):t._e(),i("ul",{staticClass:"navigationMenu",class:{active:t.paintableView.isActive}},t._l(t.horizontalNavigation?t.navigation.reverse():t.navigation,(function(e){return i("li",{key:e.name,class:"navigationMenu__"+e.name},[t.horizontalNavigation?t._e():i("div",{domProps:{innerHTML:t._s(e.isActive?e.activeBody:e.body)},on:{click:e.click}}),t.paintableView.isActive?i("ul",t._l(e.subNavigation,(function(e){return i("li",{key:e.name,class:["navigationMenu__"+e.name,{disabled:e.disabled}]},[i("div",{domProps:{innerHTML:t._s(e.isActive?e.activeBody:e.body)},on:{click:e.click}})])})),0):t._e(),t.horizontalNavigation?i("div",{domProps:{innerHTML:t._s(e.isActive?e.activeBody:e.body)},on:{click:e.click}}):t._e()])})),0)])},l=[],d={name:"paintable-navigation",props:["horizontalNavigation"],data(){return{isColorPickerOpen:!1,isLineWidthPickerOpen:!1,paintableView:this.$parent}},computed:{navigation(){return this.filteredNavigation.map(t=>{if(t.subNavigation&&t.subNavigation.length>0){const e=this.horizontalNavigation?t.subNavigation.reverse():t.subNavigation;t.subNavigation=e.map(t=>this.paintableView.navigation&&this.paintableView.navigation[t.name]?Object.assign({},t,this.paintableView.navigation[t.name]):t)}return this.paintableView.navigation&&this.paintableView.navigation[t.name]?Object.assign({},t,this.paintableView.navigation[t.name]):t})},filteredNavigation(){return[{name:"draw-save",body:"draw",activeBody:"save",isActive:this.paintableView.isActive,click:this.togglePainting,subNavigation:[{name:"color",body:"color",disabled:!1,show:this.paintableView.colors.length>0,click:this.openColorPicker},{name:"line-width",body:"line-width",disabled:!1,show:this.paintableView.showLineWidth,click:this.openLineWidthPicker},{name:"undo",body:"undo",disabled:!this.paintableView.undoList.length,show:this.paintableView.showUndoRedo,click:this.paintableView.undoDrawingStep},{name:"redo",body:"redo",disabled:!this.paintableView.redoList.length,show:this.paintableView.showUndoRedo,click:this.paintableView.redoDrawingStep},{name:"delete",body:"delete",disabled:!1,show:!0,click:this.paintableView.clearCanvas},{name:"eraser-pencil",body:"eraser",activeBody:"pencil",isActive:this.paintableView.isEraserActive,disabled:!1,show:!0,click:this.toggleEraserAndPencil},{name:"cancel",body:"cancel",disabled:!1,show:!0,click:this.paintableView.cancelDrawing}].filter(t=>t.show)}]},lineWidthStyle(){return{height:this.paintableView.currentLineWidth+"px",width:this.paintableView.currentLineWidth+"px",backgroundColor:this.paintableView.currentColor}}},methods:{toggleEraserAndPencil(){this.paintableView.isEraserActive=!this.paintableView.isEraserActive},openColorPicker(){this.isColorPickerOpen=!this.isColorPickerOpen,this.isLineWidthPickerOpen=!1},openLineWidthPicker(){this.isLineWidthPickerOpen=!this.isLineWidthPickerOpen,this.isColorPickerOpen=!1},changeColor(t){this.paintableView.currentColor=t,this.paintableView.tempCtx.strokeStyle=this.paintableView.currentColor,this.paintableView.ctx.strokeStyle=this.paintableView.currentColor,this.isColorPickerOpen=!1},togglePainting(){this.paintableView.isActive&&this.paintableView.saveCurrentCanvasToStorage(),this.paintableView.isActive=!this.paintableView.isActive,this.isColorPickerOpen=!1,this.isLineWidthPickerOpen=!1,this.$parent.$emit("toggle-paintable",this.paintableView.isActive)}}},h=d;i("57b0");function u(t,e,i,n,a,o,s,r){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):a&&(c=r?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}var p=u(h,c,l,!1,null,"67b314bc",null),v=p.exports;let g=0,f=0;var b={name:"paintable",components:{Navigation:v},props:{factor:{type:Number,default:1},navigation:{type:Object,default:null},alwaysOnTop:{type:Boolean,default:!0},name:{type:String,required:!0},width:{type:Number,default:window.innerWidth},height:{type:Number,default:window.innerHeight},hide:{type:Boolean,default:!1},threshold:{type:Number,default:0},showUndoRedo:{type:Boolean,default:!0},showLineWidth:{type:Boolean,default:!0},lineWidth:{type:Number,default:5},lineWidthEraser:{type:Number,default:20},colors:{type:Array,default:()=>["black","#f00","#4481c7","rgba(255, 235, 59, 0.4)","#999","green"]},horizontalNavigation:{type:Boolean,default:!1},disableNavigation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},color:{type:String,default:"#000"},useEraser:{type:Boolean,default:!1}},data(){return{currentColor:this.color,canvasIsEmpty:!1,canvasId:0,isEraserActive:this.useEraser,isActive:this.active,pointCoords:[],redoList:[],undoList:[],currentLineWidth:this.isEraserActive?this.lineWidthEraser:this.lineWidth,tempCanvas:null,tempCtx:null,canvas:null,ctx:null,startedDrawing:!1,drawMoveEvent:"mousemove",drawStartEvent:"mousedown",drawEndEvent:"mouseup",isMouse:!0,thresholdReached:!1}},watch:{isActive:"init",name:"init",hide(){this.$nextTick(()=>{this.init()})},lineWidth(t){this.currentLineWidth=t},lineWidthEraser(t){this.currentLineWidth=t},useEraser(t){this.isEraserActive=t},active(t){this.isActive=t},color(t){this.currentColor=t,this.tempCtx.strokeStyle=this.currentColor,this.ctx.strokeStyle=this.currentColor},isEraserActive(t){this.currentLineWidth=t?this.lineWidthEraser:this.lineWidth},currentLineWidth(t){this.ctx.lineWidth=t,this.tempCtx.lineWidth=t}},beforeMount(){this.canvasId=Math.round(1e3*Math.random())},created(){this.isTouch&&(this.drawMoveEvent="touchmove",this.drawStartEvent="touchstart",this.drawEndEvent="touchend",this.isMouse=!1)},mounted(){this.init()},computed:{scalingFactor(){return window.devicePixelRatio||1},isTouch(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}},methods:{cancelDrawing(){this.loadImageFromStorage(),this.isActive=!1,this.isColorPickerOpen=!1,this.isLineWidthPickerOpen=!1},setItem(t,e){localStorage.setItem(t,e)},async getItem(t){return localStorage.getItem(t)},removeItem(t){localStorage.removeItem(t)},init(){try{this.pointCoords=[],this.tempCanvas=this.$refs["temp-canvas-"+this.canvasId],this.tempCtx=this.tempCanvas.getContext("2d"),this.canvas=this.$refs["canvas-"+this.canvasId],this.ctx=this.canvas.getContext("2d"),this.tempCtx.lineCap="round",this.ctx.lineCap="round",this.tempCtx.lineWidth=this.lineWidth,this.ctx.lineWidth=this.lineWidth,this.tempCtx.strokeStyle=this.currentColor,this.ctx.strokeStyle=this.currentColor,this.setItem(this.name+"-settings",JSON.stringify({width:this.canvas.width,height:this.canvas.height})),this.setCanvasSize(),this.loadImageFromStorage(),this.$emit("toggle-paintable",this.isActive)}catch(t){}},undoDrawingStep(){this.restoreCanvasState(this.undoList,this.redoList)},redoDrawingStep(){this.restoreCanvasState(this.redoList,this.undoList)},restoreCanvasState(t,e){if(this.ctx.globalCompositeOperation="source-over",t.length){const i=t.pop();this.saveCurrentCanvasState(this.canvas,e,!0),this.loadImageFromStorage(i)}},saveCurrentCanvasState(t,e,i){i=i||!1,i||(this.redoList=[]),(e||this.undoList).push(t.toDataURL("image/png"))},async loadImageFromStorage(t){this.clearCanvas();const e=t||await this.getItem(this.name);if(e){let t=new Image;t.onload=()=>{this.ctx.drawImage(t,0,0),this.canvasIsEmpty=this.isCanvasBlank()},t.src=e}else this.canvasIsEmpty=this.isCanvasBlank()},setCanvasSize(){g=0,f=0},clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},isCanvasBlank(){this.ctx.globalCompositeOperation="source-over";const t=document.createElement("canvas"),e=t.getContext("2d");return e.clearRect(0,0,this.canvas.width,this.canvas.height),t.width=this.canvas.width,t.height=this.canvas.height,t.toDataURL()===this.canvas.toDataURL()},saveCurrentCanvasToStorage(){this.isEraserActive=!1,this.isCanvasBlank()?(this.removeItem(this.name),this.removeItem(this.name+"-settings")):(this.setItem(this.name,this.canvas.toDataURL("image/png")),this.setItem(this.name+"-settings",JSON.stringify({width:this.canvas.width,height:this.canvas.height}))),this.undoList=[],this.redoList=[],this.canvasIsEmpty=this.isCanvasBlank()},drawStart(t){if(t.preventDefault(),this.thresholdReached=!1,this.isActive){this.isLineWidthPickerOpen=!1,this.isColorPickerOpen=!1,this.startedDrawing=!0,this.saveCurrentCanvasState(this.canvas);const e=this.isMouse?t.clientX:t.targetTouches[0].clientX,i=this.isMouse?t.clientY:t.targetTouches[0].clientY;e&&i&&(g=e*this.factor-this.tempCanvas.getBoundingClientRect().left,f=i*this.factor-this.tempCanvas.getBoundingClientRect().top,this.pointCoords.push({x:g,y:f})),this.tempCtx.globalCompositeOperation="source-over",this.ctx.globalCompositeOperation=this.isEraserActive?"destination-out":"source-over"}},drawEnd(){this.isActive&&(this.drawLine(this.ctx),this.startedDrawing=!1,this.pointCoords=[],this.thresholdReached=!1)},drawLine(t){this.tempCtx.clearRect(0,0,this.canvas.width,this.canvas.height);let e=this.pointCoords[0],i=this.pointCoords[1];if(e&&i&&e.x&&e.y){t.beginPath(),t.moveTo(e.x,e.y);for(let n=1,a=this.pointCoords.length;n<a;n++){let a={x:e.x+(i.x-e.x)/2,y:e.y+(i.y-e.y)/2};t.quadraticCurveTo(e.x,e.y,a.x,a.y),e=this.pointCoords[n],i=this.pointCoords[n+1]}t.lineTo(e.x,e.y),t.stroke(),t.closePath()}},drawMove(t){if(t.preventDefault(),this.isActive&&this.startedDrawing){const e=this.isMouse?t.clientX:t.targetTouches[0].clientX,i=this.isMouse?t.clientY:t.targetTouches[0].clientY;if(e&&i){if(g=e*this.factor-this.tempCanvas.getBoundingClientRect().left,f=i*this.factor-this.tempCanvas.getBoundingClientRect().top,this.pointCoords.push({x:g,y:f}),this.threshold){const t=Math.sqrt(Math.pow(this.pointCoords[this.pointCoords.length-1].y-this.pointCoords[0].y,2)+Math.pow(this.pointCoords[this.pointCoords.length-1].x-this.pointCoords[0].x,2));t>this.threshold&&(this.thresholdReached||(this.thresholdReached=!0,this.$emit("thresholdReached")))}this.drawLine(this.isEraserActive?this.ctx:this.tempCtx)}}}}},m=b,w=(i("4226"),u(m,s,r,!1,null,null,null)),y=w.exports;const C={install(t,e){e&&e.setItem&&(y.methods.setItem=e.setItem),e&&e.getItem&&(y.methods.getItem=e.getItem),e&&e.removeItem&&(y.methods.removeItem=e.removeItem),t.component("paintable",y)}};var x=C;e["default"]=x}})}));