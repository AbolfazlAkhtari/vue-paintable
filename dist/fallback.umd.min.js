(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["fallback"]=e():t["fallback"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({2299:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".paintable,body{position:fixed}.paintable{overflow:hidden;height:100%;width:100%;-webkit-transform:scale(1);transform:scale(1)}.paintable.active{z-index:0}.paintable .canvas{position:relative;background-color:transparent;z-index:-1;position:absolute;left:0;top:0;overflow:hidden;-ms-touch-action:none;touch-action:none}.paintable .canvas.active{z-index:1000}.paintable .canvas.active.back{z-index:999}",""])},2350:function(t,e){function i(t,e){var i=t[1]||"",a=t[3];if(!a)return i;if(e&&"function"===typeof btoa){var o=n(a),r=a.sources.map(function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"});return[i].concat(r).concat([o]).join("\n")}return[i].join("\n")}function n(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+i+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"===typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];"number"===typeof o&&(n[o]=!0)}for(a=0;a<t.length;a++){var r=t[a];"number"===typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),e.push(r))}},e}},4226:function(t,e,i){"use strict";var n=i("f763"),a=i.n(n);a.a},"499e":function(t,e,i){"use strict";function n(t,e){for(var i=[],n={},a=0;a<e.length;a++){var o=e[a],r=o[0],s=o[1],c=o[2],l=o[3],u={id:t+":"+a,css:s,media:c,sourceMap:l};n[r]?n[r].parts.push(u):i.push(n[r]={id:r,parts:[u]})}return i}i.r(e),i.d(e,"default",function(){return v});var a="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},r=a&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},h=null,d="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(t,e,i,a){l=i,h=a||{};var r=n(t,e);return f(r),function(e){for(var i=[],a=0;a<r.length;a++){var s=r[a],c=o[s.id];c.refs--,i.push(c)}e?(r=n(t,e),f(r)):r=[];for(a=0;a<i.length;a++){c=i[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function f(t){for(var e=0;e<t.length;e++){var i=t[e],n=o[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(m(i.parts[a]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var r=[];for(a=0;a<i.parts.length;a++)r.push(m(i.parts[a]));o[i.id]={id:i.id,refs:1,parts:r}}}}function g(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function m(t){var e,i,n=document.querySelector("style["+d+'~="'+t.id+'"]');if(n){if(l)return u;n.parentNode.removeChild(n)}if(p){var a=c++;n=s||(s=g()),e=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else n=g(),e=y.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}var b=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function w(t,e,i,n){var a=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,a);else{var o=document.createTextNode(a),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function y(t,e){var i=e.css,n=e.media,a=e.sourceMap;if(n&&t.setAttribute("media",n),h.ssrId&&t.setAttribute(d,e.id),a&&(i+="\n/*# sourceURL="+a.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},7354:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".navigation[data-v-6516d8a6]{position:fixed;right:20px;top:20px;z-index:1005;background-color:#333;border-radius:5px;color:#fff}.navigation .navigationMenu[data-v-6516d8a6],.navigation .navigationMenu ul[data-v-6516d8a6]{list-style:none;padding:0;margin:0}.navigation .navigationMenu li>div[data-v-6516d8a6]{cursor:pointer;padding:12px}.navigation .navigationMenu li.disabled[data-v-6516d8a6]{opacity:.5}.navigation__lineWidthPicker[data-v-6516d8a6]{background:#333;position:absolute;left:-225px;top:0;padding:12px;border-radius:5px;-webkit-box-sizing:border-box;box-sizing:border-box}.navigation__lineWidthPickerDot[data-v-6516d8a6]{margin-top:10px;border-radius:100%}.navigation__lineWidthPickerColor[data-v-6516d8a6]{border-radius:100%;height:15px;width:15px;display:block;margin:0 0 10px;border:2px solid transparent}.navigation__lineWidthPickerColor[data-v-6516d8a6]:last-child{margin:0}.navigation__lineWidthPickerColor.selected[data-v-6516d8a6]{border:2px solid #fff}.navigation__colorPicker[data-v-6516d8a6]{background:#333;position:absolute;left:-60px;top:0;padding:12px;border-radius:5px}.navigation__colorPickerColor[data-v-6516d8a6]{border-radius:100%;height:15px;width:15px;display:block;margin:0 0 10px;border:2px solid transparent}.navigation__colorPickerColor[data-v-6516d8a6]:last-child{margin:0}.navigation__colorPickerColor.selected[data-v-6516d8a6]{border:2px solid #fff}.navigation__horizontalNavigation .navigationMenu li[data-v-6516d8a6],.navigation__horizontalNavigation .navigationMenu ul[data-v-6516d8a6]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}",""])},"9f5f":function(t,e,i){var n=i("7354");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("499e").default;a("5e5b0ec2",n,!0,{sourceMap:!1,shadowMode:!1})},ae08:function(t,e,i){"use strict";var n=i("9f5f"),a=i.n(n);a.a},c712:function(t,e,i){
/*!
 * PEP v0.5.1 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
(function(e,i){t.exports=i()})(0,function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function i(i,n){n=n||Object.create(null);var a=document.createEvent("Event");a.initEvent(i,n.bubbles||!1,n.cancelable||!1);for(var o,r=2;r<t.length;r++)o=t[r],a[o]=n[o]||e[r];a.buttons=n.buttons||0;var s=0;return s=void 0!==n.pressure&&a.buttons?n.pressure:a.buttons?.5:0,a.x=a.clientX,a.y=a.clientY,a.pointerId=n.pointerId||0,a.width=n.width||1,a.height=n.height||1,a.pressure=s,a.tiltX=n.tiltX||0,a.tiltY=n.tiltY||0,a.twist=n.twist||0,a.tangentialPressure=n.tangentialPressure||0,a.pointerType=n.pointerType||"",a.hwTimestamp=n.hwTimestamp||0,a.isPrimary=n.isPrimary||!1,a.detail=0,a}var n=window.Map&&window.Map.prototype.forEach,a=n?Map:o;function o(){this.array=[],this.size=0}o.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(i,n){t.call(e,i,n,this)},this)}};var r=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],s=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],c={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!==typeof SVGElementInstance,u={pointermap:new a,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var i=e,n=i.events;n&&(n.forEach(function(t){i[t]&&(this.eventMap[t]=i[t].bind(i))},this),this.eventSources[t]=i,this.eventSourceList.push(i))},register:function(t){for(var e,i=this.eventSourceList.length,n=0;n<i&&(e=this.eventSourceList[n]);n++)e.register.call(e,t)},unregister:function(t){for(var e,i=this.eventSourceList.length,n=0;n<i&&(e=this.eventSourceList[n]);n++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(i){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,i=this.eventMap&&this.eventMap[e];i&&i(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var n=new i(t,e);return e.preventDefault&&(n.preventDefault=e.preventDefault),n._target=n._target||e.target,n},fireEvent:function(t,e){var i=this.makeEvent(t,e);return this.dispatchEvent(i)},cloneEvent:function(t){for(var e,i=Object.create(null),n=0;n<r.length;n++)e=r[n],i[e]=t[e]||s[n],!l||"target"!==e&&"relatedTarget"!==e||i[e]instanceof SVGElementInstance&&(i[e]=i[e].correspondingUseElement);return t.preventDefault&&(i.preventDefault=function(){t.preventDefault()}),i},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in c?void 0:e:t._target},propagate:function(t,e,i){var n=t.target,a=[];while(null!=n&&n!==document&&!n.contains(t.relatedTarget))if(a.push(n),n=n.parentNode,!n)return;i&&a.reverse(),a.forEach(function(i){t.target=i,e.call(this,t)},this)},setCapture:function(t,e,n){this.captureInfo[t]&&this.releaseCapture(t,n),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,n),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var a=new i("gotpointercapture",{bubbles:!0});a.pointerId=t,a._target=e,n||this.asyncDispatchEvent(a)},releaseCapture:function(t,e){var n=this.captureInfo[t];if(n){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var a=new i("lostpointercapture",{bubbles:!0});a.pointerId=t,a._target=n,e||this.asyncDispatchEvent(a)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};u.boundHandler=u.eventHandler.bind(u);var h={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var i=t.querySelector("shadow");i&&(e=i.olderShadowRoot)}return e},allShadows:function(t){var e=[],i=this.shadow(t);while(i)e.push(i),i=this.olderShadow(i);return e},searchRoot:function(t,e,i){if(t){var n,a,o=t.elementFromPoint(e,i);a=this.targetingShadow(o);while(a){if(n=a.elementFromPoint(e,i),n){var r=this.targetingShadow(n);return this.searchRoot(r,e,i)||n}a=this.olderShadow(a)}return o}},owner:function(t){var e=t;while(e.parentNode)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,i=t.clientY,n=this.owner(t.target);return n.elementFromPoint(e,i)||(n=document),this.searchRoot(n,e,i)}},d=Array.prototype.forEach.call.bind(Array.prototype.forEach),p=Array.prototype.map.call.bind(Array.prototype.map),v=Array.prototype.slice.call.bind(Array.prototype.slice),f=Array.prototype.filter.call.bind(Array.prototype.filter),g=window.MutationObserver||window.WebKitMutationObserver,m="[touch-action]",b={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function w(t,e,i,n){this.addCallback=t.bind(n),this.removeCallback=e.bind(n),this.changedCallback=i.bind(n),g&&(this.observer=new g(this.mutationWatcher.bind(this)))}function y(t){return"body /shadow-deep/ "+t}function E(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}w.prototype={watchSubtree:function(t){this.observer&&h.canTarget(t)&&this.observer.observe(t,b)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){d(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll(m):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(v(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=p(t,this.findElements,this);return e.push(f(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var i=this.flattenMutationTree(t.removedNodes);i.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var C=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],T="",P=window.PointerEvent||window.MSPointerEvent,S=!window.ShadowDOMPolyfill&&document.head.createShadowRoot;function _(){if(P){C.forEach(function(t){T+=t.selector+E(t.value)+"\n",S&&(T+=y(t.selector)+E(t.value)+"\n")});var t=document.createElement("style");t.textContent=T,document.head.appendChild(t)}}var x=u.pointermap,O=25,k=[1,4,2,8,16],I=!1;try{I=1===new MouseEvent("test",{buttons:1}).buttons}catch(at){}var M,N={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){u.listen(t,this.events)},unregister:function(t){u.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,i=this.lastTouches,n=t.clientX,a=t.clientY,o=0,r=i.length;o<r&&(e=i[o]);o++){var s=Math.abs(n-e.x),c=Math.abs(a-e.y);if(s<=O&&c<=O)return!0}},prepareEvent:function(t){var e=u.cloneEvent(t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var i=x.get(this.POINTER_ID);0!==e.which&&i?t.buttons=i.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=x.get(this.POINTER_ID),i=this.prepareEvent(t);I||(i.buttons=k[i.button],e&&(i.buttons|=e.buttons),t.buttons=i.buttons),x.set(this.POINTER_ID,t),e&&0!==e.buttons?u.move(i):u.down(i)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);I||this.prepareButtonsForMove(e,t),e.button=-1,x.set(this.POINTER_ID,t),u.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=x.get(this.POINTER_ID),i=this.prepareEvent(t);if(!I){var n=k[i.button];i.buttons=e?e.buttons&~n:0,t.buttons=i.buttons}x.set(this.POINTER_ID,t),i.buttons&=~k[i.button],0===i.buttons?u.up(i):u.move(i)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);I||this.prepareButtonsForMove(e,t),e.button=-1,x.set(this.POINTER_ID,t),u.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);I||this.prepareButtonsForMove(e,t),e.button=-1,u.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);u.cancel(e),this.deactivateMouse()},deactivateMouse:function(){x.delete(this.POINTER_ID)}},L=u.captureInfo,R=h.findTarget.bind(h),A=h.allShadows.bind(h),D=u.pointermap,W=2500,V="touch-action",Y=1,B=2,X=4,F=8,z=Y|B|X|F,j={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){M.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute(V),i=this.touchActionToScrollType(e);"number"===typeof i&&(t._scrollType=i,u.listen(t,this.events),A(t).forEach(function(t){t._scrollType=i,u.listen(t,this.events)},this))},elementRemoved:function(t){if(D.size>0){var e=this.events;t.addEventListener("touchend",function(){t._scrollType=void 0,u.unlisten(t,e)})}else t._scrollType=void 0,u.unlisten(t,this.events);A(t).forEach(function(t){t._scrollType=void 0,u.unlisten(t,this.events)},this)},elementChanged:function(t,e){var i=t.getAttribute(V),n=this.touchActionToScrollType(i),a=this.touchActionToScrollType(e);"number"===typeof n&&"number"===typeof a?(t._scrollType=n,A(t).forEach(function(t){t._scrollType=n},this)):"number"===typeof a?this.elementRemoved(t):"number"===typeof n&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?Y:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?B:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?X:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?F:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return z;if("none"===t)return 0;var e=t.split(" "),i=this.scrollTypes;return i.UP(e)|i.DOWN(e)|i.LEFT(e)|i.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===D.size||1===D.size&&D.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,i=u.cloneEvent(t),n=i.pointerId=t.identifier+2;if(i.target=L[n]||R(i),i.bubbles=!0,i.cancelable=!0,i.button=0,i.buttons=this.typeToButtons(e.type),i.width=2*(t.radiusX||t.webkitRadiusX||0),i.height=2*(t.radiusY||t.webkitRadiusY||0),i.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,i.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){const e=Math.tan(t.altitudeAngle),n=180/Math.PI;i.tiltX=Math.atan(Math.cos(t.azimuthAngle)/e)*n,i.tiltY=Math.atan(Math.sin(t.azimuthAngle)/e)*n}else i.tiltX=0,i.tiltY=0;"stylus"===t.touchType?i.pointerType="pen":i.pointerType=this.POINTER_TYPE,i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.metaKey=e.metaKey,i.shiftKey=e.shiftKey;var a=this;return i.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},i},processTouches:function(t,e){var i=t.changedTouches;this.currentTouchEvent=t;for(var n,a=0;a<i.length;a++)n=i[a],e.call(this,this.touchToPointer(n))},shouldScroll:function(t){if(this.firstXY){var e,i=t.currentTarget._scrollType;if(0===i)e=!1;else if(i===z)e=!0;else{var n=t.changedTouches[0],a=n.clientY-this.firstXY.Y,o=Math.abs(a),r=n.clientX-this.firstXY.X,s=Math.abs(r),c=i&Y,l=i&B,u=i&X,h=i&F;u&&h?e=s>o:u?e=s>o&&r>0:h&&(e=s>o&&r<0),e||(c&&l?e=s<o:c?e=s<o&&a>0:l&&(e=s<o&&a<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var i,n=0,a=t.length;n<a&&(i=t[n]);n++)if(i.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(D.size>=e.length){var i=[];D.forEach(function(t,n){if(1!==n&&!this.findTouch(e,n-2)){var a=t.out;i.push(a)}},this),i.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){D.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),u.enterOver(t),u.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,i=D.get(e.pointerId);if(i){var n=i.out,a=i.outTarget;u.move(e),n&&a!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=a,n.target=a,e.target?(u.leaveOut(n),u.enterOver(e)):(e.target=a,e.relatedTarget=null,this.cancelOut(e))),i.out=e,i.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(u.up(t),u.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){u.cancel(t),u.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){D.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=N.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch(i)){var n={x:i.clientX,y:i.clientY};e.push(n);var a=function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}.bind(null,e,n);setTimeout(a,W)}}};M=new w(j.elementAdded,j.elementRemoved,j.elementChanged,j);var U=u.pointermap,$=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,K={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){u.listen(t,this.events)},unregister:function(t){u.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return $&&(e=u.cloneEvent(t),e.pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){U.delete(t)},MSPointerDown:function(t){U.set(t.pointerId,t);var e=this.prepareEvent(t);u.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);u.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);u.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);u.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);u.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);u.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=u.makeEvent("lostpointercapture",t);u.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=u.makeEvent("gotpointercapture",t);u.dispatchEvent(e)}};function H(){if(!window.PointerEvent){if(window.PointerEvent=i,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),u.registerSource("ms",K)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",N),void 0!==window.ontouchstart&&u.registerSource("touch",j);u.register(document)}}var G,q,J,Q=window.navigator;function Z(t){if(!u.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function tt(t){var e=t.parentNode;while(e&&e!==t.ownerDocument)e=e.parentNode;if(!e){var i=new Error("InvalidStateError");throw i.name="InvalidStateError",i}}function et(t){var e=u.pointermap.get(t);return 0!==e.buttons}function it(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:G},releasePointerCapture:{value:q},hasPointerCapture:{value:J}})}Q.msPointerEnabled?(G=function(t){Z(t),tt(this),et(t)&&(u.setCapture(t,this,!0),this.msSetPointerCapture(t))},q=function(t){Z(t),u.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(G=function(t){Z(t),tt(this),et(t)&&u.setCapture(t,this)},q=function(t){Z(t),u.releaseCapture(t)}),J=function(t){return!!u.captureInfo[t]},_(),H(),it();var nt={dispatcher:u,Installer:w,PointerEvent:i,PointerMap:a,targetFinding:h};return nt})},f6fd:function(t,e){(function(t){var e="currentScript",i=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(n){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(t in i)if(i[t].src==e||"interactive"==i[t].readyState)return i[t];return null}}})})(document)},f763:function(t,e,i){var n=i("2299");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("499e").default;a("46600cf8",n,!0,{sourceMap:!1,shadowMode:!1})},fb15:function(t,e,i){"use strict";var n;(i.r(e),"undefined"!==typeof window)&&(i("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(i.p=n[1]));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hide?i("div",{staticClass:"content"},[t._t("default")],2):i("div",{staticClass:"paintable"},[i("Navigation",{attrs:{horizontalNavigation:t.horizontalNavigation}},[i("div",{attrs:{slot:"paintable-navigation-draw"},slot:"paintable-navigation-draw"})]),i("canvas",{ref:"canvas-"+t.canvasId,staticClass:"canvas back",class:{active:t.isActive||t.alwaysOnTop},style:{pointerEvents:t.isActive?"all":"none",display:!t.canvasIsEmpty||t.isActive?"block":"none"},attrs:{width:t.width,height:t.height},on:{pointermove:t.drawMove,pointerdown:t.drawStart,pointerup:t.drawEnd,pointercancel:t.drawEnd}}),i("canvas",{ref:"temp-canvas-"+t.canvasId,staticClass:"canvas",class:{active:t.isActive||t.alwaysOnTop},style:{pointerEvents:t.isActive?"all":"none",display:!t.canvasIsEmpty||t.isActive?"block":"none"},attrs:{width:t.width,height:t.height},on:{pointermove:t.drawMove,pointerdown:t.drawStart,pointerup:t.drawEnd,pointercancel:t.drawEnd}}),i("div",{staticClass:"content"},[t._t("default")],2)],1)},o=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.paintableView.hidePaintableNavigation?t._e():i("div",{staticClass:"navigation",class:{navigation__horizontalNavigation:t.horizontalNavigation}},[t.isColorPickerOpen?i("div",{staticClass:"navigation__colorPicker"},t._l(t.paintableView.colors,function(e){return i("span",{key:e,class:["navigation__colorPickerColor",{selected:t.paintableView.currentColor===e}],style:{backgroundColor:e},on:{click:function(i){return t.changeColor(e)}}})}),0):t._e(),t.isLineWidthPickerOpen?i("div",{staticClass:"navigation__lineWidthPicker"},[i("label",{attrs:{for:"navigation__lineWidthPickerRange"}},[t._v("("+t._s(t.paintableView.currentLineWidth)+"px):")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.paintableView.currentLineWidth,expression:"paintableView.currentLineWidth"}],attrs:{id:"navigation__lineWidthPickerRange",type:"range",min:"1",max:"100"},domProps:{value:t.paintableView.currentLineWidth},on:{change:function(e){t.isLineWidthPickerOpen=!1},__r:function(e){return t.$set(t.paintableView,"currentLineWidth",e.target.value)}}}),i("div",{staticClass:"navigation__lineWidthPickerDot",style:t.lineWidthStyle})]):t._e(),i("ul",{staticClass:"navigationMenu",class:{active:t.paintableView.isActive}},t._l(t.horizontalNavigation?t.navigation.reverse():t.navigation,function(e){return i("li",{key:e.name,class:"navigationMenu__"+e.name},[t.horizontalNavigation?t._e():i("div",{domProps:{innerHTML:t._s(e.isActive?e.activeBody:e.body)},on:{click:e.click}}),t.paintableView.isActive?i("ul",t._l(e.subNavigation,function(e){return i("li",{key:e.name,class:["navigationMenu__"+e.name,{disabled:e.disabled}]},[i("div",{domProps:{innerHTML:t._s(e.isActive?e.activeBody:e.body)},on:{click:e.click}})])}),0):t._e(),t.horizontalNavigation?i("div",{domProps:{innerHTML:t._s(e.isActive?e.activeBody:e.body)},on:{click:e.click}}):t._e()])}),0)])},s=[],c={name:"paintable-navigation",props:["horizontalNavigation"],data(){return{isColorPickerOpen:!1,isLineWidthPickerOpen:!1,paintableView:this.$parent}},computed:{navigation(){return this.filteredNavigation.map(t=>{if(t.subNavigation&&t.subNavigation.length>0){const e=this.horizontalNavigation?t.subNavigation.reverse():t.subNavigation;t.subNavigation=e.map(t=>{return this.paintableView.navigation&&this.paintableView.navigation[t.name]?Object.assign({},t,this.paintableView.navigation[t.name]):t})}return this.paintableView.navigation&&this.paintableView.navigation[t.name]?Object.assign({},t,this.paintableView.navigation[t.name]):t})},filteredNavigation(){return[{name:"draw-save",body:"draw",activeBody:"save",isActive:this.paintableView.isActive,click:this.togglePainting,subNavigation:[{name:"color",body:"color",disabled:!1,show:this.paintableView.colors.length>0,click:this.openColorPicker},{name:"line-width",body:"line-width",disabled:!1,show:this.paintableView.showLineWidth,click:this.openLineWidthPicker},{name:"undo",body:"undo",disabled:!this.paintableView.undoList.length,show:this.paintableView.showUndoRedo,click:this.paintableView.undoDrawingStep},{name:"redo",body:"redo",disabled:!this.paintableView.redoList.length,show:this.paintableView.showUndoRedo,click:this.paintableView.redoDrawingStep},{name:"delete",body:"delete",disabled:!1,show:!0,click:this.paintableView.clearCanvas},{name:"eraser-pencil",body:"eraser",activeBody:"pencil",isActive:this.paintableView.isEraserActive,disabled:!1,show:!0,click:this.toggleEraserAndPencil},{name:"cancel",body:"cancel",disabled:!1,show:!0,click:this.cancelDrawing}].filter(t=>t.show)}]},lineWidthStyle(){return{height:this.paintableView.currentLineWidth+"px",width:this.paintableView.currentLineWidth+"px",backgroundColor:this.paintableView.currentColor}}},methods:{toggleEraserAndPencil(){this.paintableView.isEraserActive=!this.paintableView.isEraserActive},openColorPicker(){this.isColorPickerOpen=!this.isColorPickerOpen,this.isLineWidthPickerOpen=!1},openLineWidthPicker(){this.isLineWidthPickerOpen=!this.isLineWidthPickerOpen,this.isColorPickerOpen=!1},cancelDrawing(){this.paintableView.loadImageFromStorage(),this.paintableView.isActive=!1,this.isColorPickerOpen=!1,this.isLineWidthPickerOpen=!1},changeColor(t){this.paintableView.currentColor=t,this.paintableView.tempCtx.strokeStyle=this.paintableView.currentColor,this.paintableView.ctx.strokeStyle=this.paintableView.currentColor,this.isColorPickerOpen=!1},togglePainting(){this.paintableView.isActive&&this.paintableView.saveCurrentCanvasToStorage(),this.paintableView.isActive=!this.paintableView.isActive,this.isColorPickerOpen=!1,this.isLineWidthPickerOpen=!1,this.$root.$emit("toggle-paintable",this.paintableView.isActive),this.$root.$emit("toggle-paintable-screen",this.paintableView.isActive)}}},l=c;i("ae08");function u(t,e,i,n,a,o,r,s){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):a&&(c=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}var h=u(l,r,s,!1,null,"6516d8a6",null),d=h.exports;let p=0,v=0,f=0,g=0;var m={name:"paintable",components:{Navigation:d},props:{factor:{type:Number,default:1},navigation:{type:Object,default:null},alwaysOnTop:{type:Boolean,default:!0},name:{type:String,required:!0},width:{type:Number,default:window.innerWidth},height:{type:Number,default:window.innerHeight},hide:{type:Boolean,default:!1},showUndoRedo:{type:Boolean,default:!0},showLineWidth:{type:Boolean,default:!0},lineWidth:{type:Number,default:5},lineWidthEraser:{type:Number,default:20},colors:{type:Array,default:()=>["black","#f00","#4481c7","rgba(255, 235, 59, 0.4)","#999","green"]},horizontalNavigation:{type:Boolean,default:!1}},data(){return{hidePaintableNavigation:!1,currentColor:"black",canvasIsEmpty:!1,canvasId:0,isEraserActive:!1,isActive:!1,pointCoords:[],redoList:[],undoList:[],currentLineWidth:this.isEraserActive?this.lineWidthEraser:this.lineWidth,tempCanvas:null,tempCtx:null,canvas:null,ctx:null,startedDrawing:!1}},watch:{isActive:"init",name:"init",hide(){this.$nextTick(()=>{this.init()})},isEraserActive(t){this.currentLineWidth=t?this.lineWidthEraser:this.lineWidth},currentLineWidth(t){this.ctx.lineWidth=t,this.tempCtx.lineWidth=t},color(t){this.ctx.strokeStyle=t,this.tempCtx.strokeStyle=t}},beforeMount(){this.canvasId=Math.round(1e3*Math.random())},mounted(){this.init()},computed:{scalingFactor(){return window.devicePixelRatio||1}},methods:{setItem(t,e){localStorage.setItem(t,e)},async getItem(t){return localStorage.getItem(t)},removeItem(t){localStorage.removeItem(t)},init(){try{this.pointCoords=[],this.tempCanvas=this.$refs["temp-canvas-"+this.canvasId],this.tempCtx=this.tempCanvas.getContext("2d"),this.canvas=this.$refs["canvas-"+this.canvasId],this.ctx=this.canvas.getContext("2d"),this.tempCtx.lineCap="round",this.ctx.lineCap="round",this.tempCtx.lineWidth=this.lineWidth,this.ctx.lineWidth=this.lineWidth,this.tempCtx.strokeStyle=this.currentColor,this.ctx.strokeStyle=this.currentColor,this.setItem(this.name+"-settings",JSON.stringify({width:this.canvas.width,height:this.canvas.height})),this.setCanvasSize(),this.loadImageFromStorage(),this.$root.$on("hide-paintable-navigation",t=>{this.hidePaintableNavigation=t})}catch(t){}},undoDrawingStep(){this.restoreCanvasState(this.undoList,this.redoList)},redoDrawingStep(){this.restoreCanvasState(this.redoList,this.undoList)},restoreCanvasState(t,e){if(this.ctx.globalCompositeOperation="source-over",t.length){const i=t.pop();this.saveCurrentCanvasState(this.canvas,e,!0),this.loadImageFromStorage(i)}},saveCurrentCanvasState(t,e,i){i=i||!1,i||(this.redoList=[]),(e||this.undoList).push(t.toDataURL("image/png"))},async loadImageFromStorage(t){this.clearCanvas();const e=t||await this.getItem(this.name);if(e){let t=new Image;t.onload=(()=>{this.ctx.drawImage(t,0,0),this.canvasIsEmpty=this.isCanvasBlank()}),t.src=e}else this.canvasIsEmpty=this.isCanvasBlank()},setCanvasSize(){f=0,g=0},clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},isCanvasBlank(){this.ctx.globalCompositeOperation="source-over";const t=document.createElement("canvas"),e=t.getContext("2d");return e.clearRect(0,0,this.canvas.width,this.canvas.height),t.width=this.canvas.width,t.height=this.canvas.height,t.toDataURL()===this.canvas.toDataURL()},saveCurrentCanvasToStorage(){this.isEraserActive=!1,this.isCanvasBlank()?(this.removeItem(this.name),this.removeItem(this.name+"-settings")):(this.setItem(this.name,this.canvas.toDataURL("image/png")),this.setItem(this.name+"-settings",JSON.stringify({width:this.canvas.width,height:this.canvas.height}))),this.undoList=[],this.redoList=[],this.canvasIsEmpty=this.isCanvasBlank()},drawStart(t){t.preventDefault(),this.isActive&&(this.isLineWidthPickerOpen=!1,this.isColorPickerOpen=!1,this.startedDrawing=!0,this.saveCurrentCanvasState(this.canvas),p=f,v=g,t.clientX&&t.clientY&&(f=t.clientX*this.factor-this.tempCanvas.getBoundingClientRect().left,g=t.clientY*this.factor-this.tempCanvas.getBoundingClientRect().top,this.pointCoords.push({x:f,y:g})),this.tempCtx.globalCompositeOperation="source-over",this.ctx.globalCompositeOperation=this.isEraserActive?"destination-out":"source-over")},drawEnd(t){this.isActive&&(this.drawLine(this.ctx),this.startedDrawing=!1,this.pointCoords=[])},drawLine(t){this.tempCtx.clearRect(0,0,this.canvas.width,this.canvas.height);let e=this.pointCoords[0],i=this.pointCoords[1];if(e.x&&e.y){t.beginPath(),t.moveTo(e.x,e.y);for(let n=1,a=this.pointCoords.length;n<a;n++){let a={x:e.x+(i.x-e.x)/2,y:e.y+(i.y-e.y)/2};t.quadraticCurveTo(e.x,e.y,a.x,a.y),e=this.pointCoords[n],i=this.pointCoords[n+1]}t.lineTo(e.x,e.y),t.stroke(),t.closePath()}},drawMove(t){t.preventDefault(),this.isActive&&this.startedDrawing&&(p=f,v=g,t.clientX&&t.clientY&&(f=t.clientX*this.factor-this.tempCanvas.getBoundingClientRect().left,g=t.clientY*this.factor-this.tempCanvas.getBoundingClientRect().top,this.pointCoords.push({x:f,y:g}),this.drawLine(this.isEraserActive?this.ctx:this.tempCtx)))}}},b=m,w=(i("4226"),u(b,a,o,!1,null,null,null)),y=w.exports;i("c712");var E={install:function(t,e){e&&e.setItem&&(y.methods.setItem=e.setItem),e&&e.getItem&&(y.methods.getItem=e.getItem),e&&e.removeItem&&(y.methods.removeItem=e.removeItem),t.component("paintable",y),t.prototype.$hidePaintableNavigation=function(){var t=this;setTimeout(function(){t.$root.$emit("hide-paintable-navigation",!0)},0)},t.prototype.$showPaintableNavigation=function(){var t=this;setTimeout(function(){t.$root.$emit("hide-paintable-navigation",!1)},0)}}},C=E;e["default"]=C}})});